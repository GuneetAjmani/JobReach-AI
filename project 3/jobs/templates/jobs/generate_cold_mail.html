{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Job Details Card -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Job Details</h2>
        <div class="space-y-3">
            <div>
                <h3 class="text-lg font-semibold text-gray-700">Title</h3>
                <p class="text-gray-600">{{ job.job_title }}</p>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-700">Company</h3>
                <p class="text-gray-600">{{ job.employer_name }}</p>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-700">Location</h3>
                <p class="text-gray-600">{{ job.job_location }}</p>
            </div>
        </div>
    </div>

    <!-- Generated Cold Email Card -->
    <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-bold text-gray-800">Generated Cold Email</h2>
            <button onclick="copyToClipboard()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors">
                Copy to Clipboard
            </button>
        </div>
        <div id="cold-email-content" class="bg-gray-50 rounded-lg p-6 whitespace-pre-wrap text-gray-700">
            {{ cold_email }}
        </div>
    </div>
</div>

<script>
function copyToClipboard() {
    const content = document.getElementById('cold-email-content').innerText;
    navigator.clipboard.writeText(content).then(() => {
        alert('Email copied to clipboard!');
    }).catch(err => {
        console.error('Failed to copy text: ', err);
    });
}
</script>
{% endblock %}
